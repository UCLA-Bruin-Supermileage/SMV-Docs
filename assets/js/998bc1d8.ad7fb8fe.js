"use strict";(self.webpackChunksmv_docs=self.webpackChunksmv_docs||[]).push([[5759],{1285:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"networking/part-2-ethernet","title":"The Ethernet Protocol","description":"In this page we expand on what we learned in the previous page. Before reading this page I expect you understand that all networked computers (their NICs) have a unique ID imprinted on them from the factory called a MAC address. That\'s literally it, sorry you had to read all that before if you did, but it\'s good to understand the fundamentals. Let\'s get to it.","source":"@site/docs/networking/part-2-ethernet.md","sourceDirName":"networking","slug":"/networking/part-2-ethernet","permalink":"/docs/networking/part-2-ethernet","draft":false,"unlisted":false,"editUrl":"https://github.com/Howard-Z/SMV-Docs/blob/main/docs/networking/part-2-ethernet.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"The Principles","permalink":"/docs/networking/part-1-intro"},"next":{"title":"The IP Protocol","permalink":"/docs/networking/part-3-ip"}}');var a=s(4848),o=s(8453);const r={sidebar_position:2},i="The Ethernet Protocol",c={},h=[{value:"Let&#39;s get physical",id:"lets-get-physical",level:2},{value:"Packet Switching",id:"packet-switching",level:2},{value:"The Hardware",id:"the-hardware",level:3},{value:"Switching it Around",id:"switching-it-around",level:3},{value:"What&#39;s Next",id:"whats-next",level:2}];function l(e){const t={a:"a",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",math:"math",mn:"mn",mo:"mo",mrow:"mrow",msup:"msup",mtext:"mtext",p:"p",semantics:"semantics",span:"span",strong:"strong",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"the-ethernet-protocol",children:"The Ethernet Protocol"})}),"\n",(0,a.jsxs)(t.p,{children:["In this page we expand on what we learned in the previous page. Before reading this page I expect you understand that all networked computers (their NICs) have a unique ID imprinted on them from the factory called a MAC address. That's literally it, sorry you had to read all that before if you did, but it's good to understand the fundamentals ","\ud83d\ude04",". Let's get to it."]}),"\n",(0,a.jsx)(t.h2,{id:"lets-get-physical",children:"Let's get physical"}),"\n",(0,a.jsx)(t.p,{children:"Ok I name dropped a piece of jargon without explaining anything. WTF is ethernet? Ethernet is a protocol that NICs use to communicate with each other. We won't dive into in this paragraph, but we will soon. For now, just remember that it's a protocol."}),"\n",(0,a.jsxs)(t.p,{children:["So we have a protocol, what does the connector look like in the real world. Well...this:\n",(0,a.jsx)(t.img,{src:"https://www.cableleader.com/media/catalog/product/cache/048144f7f66a3fcccf506bf3676b4ff8/c/a/cable-leader-cat6-utp-snagless-ethernet-network-patch-cable--blue-1_1_16.png",alt:"Figure 1"}),"\n",(0,a.jsxs)(t.em,{children:["Source: ",(0,a.jsx)(t.a,{href:"https://www.cableleader.com/media/catalog/product/cache/048144f7f66a3fcccf506bf3676b4ff8/c/a/cable-leader-cat6-utp-snagless-ethernet-network-patch-cable--blue-1_1_16.png",children:"https://www.cableleader.com/media/catalog/product/cache/048144f7f66a3fcccf506bf3676b4ff8/c/a/cable-leader-cat6-utp-snagless-ethernet-network-patch-cable--blue-1_1_16.png"})]})]}),"\n",(0,a.jsx)(t.p,{children:"Depicted above is an ethernet cable. This means that the information traveling through the wire follows in the ethernet protocol. The physical connectors on the end are called RJ45 heads. They contain 8 wires, twisted into 4 different pairs."}),"\n",(0,a.jsx)(t.p,{children:"These cables have to plug into somewhere so here's what the ethernet port looks like."}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.img,{src:"https://cdn.taoglas.com/wp-content/uploads/2023/06/TMJY606DYDZ4NL_Front_1000x1000-600x600.png",alt:"Figure 2"}),"\n",(0,a.jsxs)(t.em,{children:["Source: ",(0,a.jsx)(t.a,{href:"https://cdn.taoglas.com/wp-content/uploads/2023/06/TMJY606DYDZ4NL_Front_1000x1000-600x600.png",children:"https://cdn.taoglas.com/wp-content/uploads/2023/06/TMJY606DYDZ4NL_Front_1000x1000-600x600.png"})]})]}),"\n",(0,a.jsx)(t.p,{children:"You've probably seen the cable and the port before, actually I can almost guarantee it. Take a look around the walls of the room that you're in (if you're outside...ew). You might notice that there are ethernet ports (RJ45 ports) on one or more of the walls. This is definitely true of UCLA campus where every classroom and building is wired up for ethernet. You might be wondering what all the ports are connected to and where they lead to. Well I'm glad you asked."}),"\n",(0,a.jsx)(t.h2,{id:"packet-switching",children:"Packet Switching"}),"\n",(0,a.jsx)(t.h3,{id:"the-hardware",children:"The Hardware"}),"\n",(0,a.jsxs)(t.p,{children:["Behind all of those ports and often times what you'll plug your computer into if you want internet is a packet switch. At home, this switch is most likely bundled with your router that came with your internet service provider (ISP oops another vocab word).\n",(0,a.jsx)(t.img,{src:"https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6502/6502056cv11d.jpg;maxHeight=2000;maxWidth=2000;format=webp",alt:"Figure 3"}),"\n",(0,a.jsxs)(t.em,{children:["Source: ",(0,a.jsx)(t.a,{href:"https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6502/6502056cv11d.jpg;maxHeight=2000;maxWidth=2000;format=webp",children:"https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6502/6502056cv11d.jpg;maxHeight=2000;maxWidth=2000;format=webp"})]}),"\nIgnore the colors and the labels under the ports, we aren't quite there yet. I just wanted to show you that you have a network switch at home and just might not know it."]}),"\n",(0,a.jsx)(t.p,{children:"In something like a university campus or an office, the ethernet cables might lead to a much larger switch which could look something like:"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:"https://t4.ftcdn.net/jpg/01/19/20/13/360_F_119201395_FJm8mPR3TTRHNLXPxp0poTc0xyAxY4re.jpg",alt:"Figure 4"})}),"\n",(0,a.jsx)(t.p,{children:"Ok Ok Ok so now you know what it looks like, but what does it do?"}),"\n",(0,a.jsx)(t.h3,{id:"switching-it-around",children:"Switching it Around"}),"\n",(0,a.jsxs)(t.p,{children:["If you remember that magic wire from the first page I said that all computers could connect to this magic wire, well guess what. This is the magic wire. For two computers to be ",(0,a.jsx)(t.em,{children:"connected"})," to each other, all you have to do is make sure they are linked by a series of cables and switches. But I'm getting ahead of myself, back to the basics."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Figure 5",src:s(4853).A+"",width:"932",height:"244"})}),"\n",(0,a.jsxs)(t.p,{children:["Let's say we have ",(0,a.jsx)(t.code,{children:"Computer A"}),"'s MAC address, call it ",(0,a.jsx)(t.code,{children:"MAC A"})," and ",(0,a.jsx)(t.code,{children:"MAC B"})," for ",(0,a.jsx)(t.code,{children:"Computer B"}),". Because of the severe amount of details I am foregoing for this lecture, we will make the assumption that ",(0,a.jsx)(t.code,{children:"Computer A"})," knows ",(0,a.jsx)(t.code,{children:"MAC B"})," and ",(0,a.jsx)(t.code,{children:"Computer B"})," knows ",(0,a.jsx)(t.code,{children:"MAC A"}),". You don't need to know the nitty gritty details of how computers and switches obtain this information, but if you want to learn more you can check out the ",(0,a.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Address_Resolution_Protocol",children:"ARP protocol"})," or I might cover this later."]}),"\n",(0,a.jsxs)(t.p,{children:["So, how do we send data from ",(0,a.jsx)(t.code,{children:"Computer A"})," to ",(0,a.jsx)(t.code,{children:"Computer B"}),"?"]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"Computer A"})," will send a ",(0,a.jsx)(t.strong,{children:"packet"})," which is basically just a burst of bits down the wire to the switch. In this packet will contain the destination MAC address that we want to send to. The switch will then receive this packet and peek at the destination MAC address. It will check it's internal table of MAC addresses associated with port numbers and try to find the port number associated with the destination port. If it can not find an associated port number, it will broadcast (flood) the packet down ",(0,a.jsx)(t.strong,{children:"all"})," of the ports except the port the packet came from. Yes, this means that it will make n-1 copies of the packet and send one copy down each port (where n is the number of ports on the switch). At the same time, the switch will remember the MAC address of the computer who sent the packet and the port that it was on."]}),"\n",(0,a.jsxs)(t.p,{children:["Let's say ",(0,a.jsx)(t.code,{children:"Computer A"})," is connected to ",(0,a.jsx)(t.code,{children:"port 1"})," and ",(0,a.jsx)(t.code,{children:"Computer B"})," is connected to ",(0,a.jsx)(t.code,{children:"port 2"}),". When ",(0,a.jsx)(t.code,{children:"Computer A"})," sends a packet to ",(0,a.jsx)(t.code,{children:"MAC B"}),", the switch will remember that ",(0,a.jsx)(t.code,{children:"port 1"})," can reach ",(0,a.jsx)(t.code,{children:"MAC A"})," and then flood the packet down all the other ports in the switch because ",(0,a.jsx)(t.code,{children:"MAC B"})," isn't in its table yet. Since the packet is being flooded down every port, ",(0,a.jsx)(t.code,{children:"Computer B"})," is guaranteed to see the packet coming from ",(0,a.jsx)(t.code,{children:"Computer A"}),". If ",(0,a.jsx)(t.code,{children:"Computer B"})," wants to send a reply, it sends a packet with a destination MAC of ",(0,a.jsx)(t.code,{children:"MAC A"}),". The switch will then see this reply packet and remember that ",(0,a.jsx)(t.code,{children:"port 2"})," can reach ",(0,a.jsx)(t.code,{children:"MAC B"}),". Then the switch will check its table and find that ",(0,a.jsx)(t.code,{children:"MAC A"})," is reachable down ",(0,a.jsx)(t.code,{children:"port 1"})," and then ",(0,a.jsx)(t.strong,{children:"only"})," send the packet down ",(0,a.jsx)(t.code,{children:"port 1"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["An important concept to understand is that ",(0,a.jsx)(t.strong,{children:"one port can map to MANY MAC addresses"}),". This enables some really important functionality like chaining switches together."]}),"\n",(0,a.jsx)(t.h2,{id:"whats-next",children:"What's Next"}),"\n",(0,a.jsx)(t.p,{children:"Whew! Now we can plug in an arbitrary number of computers and connect the world right?"}),"\n",(0,a.jsx)(t.p,{children:"If we calculate the total number of MAC addresses possible we get:"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsxs)(t.span,{className:"katex",children:[(0,a.jsx)(t.span,{className:"katex-mathml",children:(0,a.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(t.semantics,{children:[(0,a.jsxs)(t.mrow,{children:[(0,a.jsxs)(t.msup,{children:[(0,a.jsx)(t.mn,{children:"2"}),(0,a.jsx)(t.mn,{children:"48"})]}),(0,a.jsx)(t.mo,{children:"\u2248"}),(0,a.jsx)(t.mn,{children:"281"}),(0,a.jsx)(t.mtext,{children:"\xa0trillion"})]}),(0,a.jsx)(t.annotation,{encoding:"application/x-tex",children:"2^{48} \\approx 281 \\text{ trillion}"})]})})}),(0,a.jsxs)(t.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(t.span,{className:"base",children:[(0,a.jsx)(t.span,{className:"strut",style:{height:"0.8141em"}}),(0,a.jsxs)(t.span,{className:"mord",children:[(0,a.jsx)(t.span,{className:"mord",children:"2"}),(0,a.jsx)(t.span,{className:"msupsub",children:(0,a.jsx)(t.span,{className:"vlist-t",children:(0,a.jsx)(t.span,{className:"vlist-r",children:(0,a.jsx)(t.span,{className:"vlist",style:{height:"0.8141em"},children:(0,a.jsxs)(t.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,a.jsx)(t.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(t.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(t.span,{className:"mord mtight",children:(0,a.jsx)(t.span,{className:"mord mtight",children:"48"})})})]})})})})})]}),(0,a.jsx)(t.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(t.span,{className:"mrel",children:"\u2248"}),(0,a.jsx)(t.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(t.span,{className:"base",children:[(0,a.jsx)(t.span,{className:"strut",style:{height:"0.6944em"}}),(0,a.jsx)(t.span,{className:"mord",children:"281"}),(0,a.jsx)(t.span,{className:"mord text",children:(0,a.jsx)(t.span,{className:"mord",children:"\xa0trillion"})})]})]})]})}),"\n",(0,a.jsx)(t.p,{children:"This works out to several thousand MAC addresses per person on the Earth. It also comes with the devastating consequence that every switch needs to store all 281 trillion addresses and the associated port that it's on. A really conservative estimate is that each switch on the planet would have to search through more than 35 gigabytes of data. If you've ever taken an algorithms class, that is going to have devastating performance impacts. So we need a smarter way to route traffic, and to our rescue in the next page comes the IP protocol."})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},4853:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/fig-5-39b766c743e49a3e2ea98487e32256bb.png"},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>i});var n=s(6540);const a={},o=n.createContext(a);function r(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);